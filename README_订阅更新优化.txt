================================================================================
                     订阅更新假死问题 - 快速参考卡片
================================================================================

【问题】
  当订阅数量较多（30+）时，点击"更新全部订阅"会导致应用假死

【原因】
  每次订阅更新后都重新验证和刷新整个内核配置
  → 50个订阅 × 700ms = 35秒浪费

【解决方案】
  批量更新时，跳过中间的配置刷新，最后统一刷新1次

【性能提升】
  ┌─────────────┬────────┬────────┬────────┐
  │ 指标        │ 优化前 │ 优化后 │ 提升   │
  ├─────────────┼────────┼────────┼────────┤
  │ 更新时间    │ 50秒   │ 16秒   │ 68%    │
  │ UI响应性    │ 假死   │ 流畅   │ 100%   │
  │ 配置刷新    │ 50次   │ 1次    │ 98%    │
  └─────────────┴────────┴────────┴────────┘

【核心修改】（3个文件，约40行代码）
  
  1️⃣ src-tauri/src/feat/profile.rs
     添加 skip_core_update 参数，跳过配置刷新
  
  2️⃣ src-tauri/src/cmd/subscription_batch_manager.rs
     批量更新时传递 skip_core_update=true
     所有订阅更新完成后统一刷新配置
  
  3️⃣ src/pages/profiles.tsx（可选）
     使用后端批量管理器API，移除UI锁定

【实施时间】
  编码：2小时
  测试：2小时
  总计：4小时

【文档位置】
  📄 订阅更新优化文档索引.md      ← 从这里开始
  📄 订阅更新问题总结.md           ← 快速了解（5分钟）
  📄 订阅更新假死优化方案.md       ← 详细方案（30分钟）
  📄 订阅更新假死问题分析报告.md   ← 深度分析（60分钟）
  📄 订阅更新流程对比.md           ← 可视化对比（15分钟）

【临时解决方案】（修复前）
  1. 使用"批量管理"对话框（推荐）
  2. 分批次更新（每次10-15个）
  3. 使用自动更新功能

【快速测试】
  1. 创建50个测试订阅
  2. 点击"更新全部订阅"
  3. 验证：更新时间 < 20秒，UI保持响应

【回滚方案】
  如果有问题，只需移除 skip_core_update 参数即可回滚

================================================================================
                         推荐优先级：⭐⭐⭐⭐⭐
                        （强烈建议立即实施）
================================================================================

下一步：打开 "订阅更新优化文档索引.md" 开始吧！


