# ğŸ–¥ï¸ LIebesu_Clash Windows 11 æœ¬åœ°ç¼–è¯‘æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æŒ‡å—æä¾›äº†åœ¨ Windows 11 ç³»ç»Ÿä¸Šç¼–è¯‘ LIebesu_Clash é¡¹ç›®çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼ŒåŒ…å«è‡ªåŠ¨åŒ–è„šæœ¬å’Œè¯¦ç»†çš„æ‰‹åŠ¨æ­¥éª¤è¯´æ˜ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆæ¨èï¼‰

### æ–¹æ¡ˆä¸€ï¼šå…¨è‡ªåŠ¨å®‰è£…å’Œç¼–è¯‘

```bash
# 1. ä¸‹è½½é¡¹ç›®
git clone https://github.com/liebesu/LIebesu_Clash.git
cd LIebesu_Clash

# 2. ä¸€é”®å®‰è£…å¼€å‘ç¯å¢ƒï¼ˆå¦‚æœæ˜¯æ–°ç³»ç»Ÿï¼‰
setup_dev_environment_windows11.bat

# 3. ä¸€é”®ç¼–è¯‘
build_windows11.bat
```

### æ–¹æ¡ˆäºŒï¼šå¿«é€Ÿç¼–è¯‘ï¼ˆå·²é…ç½®ç¯å¢ƒï¼‰

```bash
# å¦‚æœå¼€å‘ç¯å¢ƒå·²é…ç½®å¥½ï¼Œä½¿ç”¨å¿«é€Ÿç¼–è¯‘
build_quick_windows11.bat
```

## ğŸ“¦ æä¾›çš„æ‰¹å¤„ç†è„šæœ¬

### 1. `setup_dev_environment_windows11.bat`
**åŠŸèƒ½**ï¼šè‡ªåŠ¨å®‰è£…æ‰€æœ‰å¿…éœ€çš„å¼€å‘å·¥å…·
- ğŸ› ï¸ **è‡ªåŠ¨æ£€æµ‹å’Œå®‰è£…**ï¼šNode.js, Rust, Git, Visual Studio Build Tools
- ğŸ“¦ **åŒ…ç®¡ç†å™¨**ï¼šè‡ªåŠ¨å®‰è£… pnpm
- âš™ï¸ **ç¯å¢ƒé…ç½®**ï¼šè‡ªåŠ¨é…ç½®è·¯å¾„å’Œç¯å¢ƒå˜é‡
- ğŸ” **éªŒè¯å®‰è£…**ï¼šå®ŒæˆåéªŒè¯æ‰€æœ‰å·¥å…·æ˜¯å¦æ­£ç¡®å®‰è£…

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ
setup_dev_environment_windows11.bat
```

### 2. `build_windows11.bat`
**åŠŸèƒ½**ï¼šå®Œæ•´çš„ç¼–è¯‘æµç¨‹
- ğŸ” **ç¯å¢ƒæ£€æŸ¥**ï¼šéªŒè¯æ‰€æœ‰å¿…éœ€å·¥å…·
- ğŸ“¦ **ä¾èµ–å®‰è£…**ï¼šè‡ªåŠ¨å®‰è£…é¡¹ç›®ä¾èµ–
- âš™ï¸ **ç¯å¢ƒé…ç½®**ï¼šè®¾ç½®ç¼–è¯‘ç¯å¢ƒå˜é‡
- ğŸ› ï¸ **é¡¹ç›®ç¼–è¯‘**ï¼šæ‰§è¡Œå®Œæ•´ç¼–è¯‘æµç¨‹
- ğŸ“ **è¯¦ç»†æ—¥å¿—**ï¼šè®°å½•å®Œæ•´çš„ç¼–è¯‘è¿‡ç¨‹

**ç‰¹æ€§**ï¼š
- âœ… å…¨é¢çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶
- ğŸ“Š è¯¦ç»†çš„ç¼–è¯‘ç»Ÿè®¡å’Œç»“æœå±•ç¤º
- ğŸ”§ è‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼ˆæ ‡å‡†ç¼–è¯‘å¤±è´¥æ—¶å°è¯•å¿«é€Ÿç¼–è¯‘ï¼‰
- ğŸ“ è‡ªåŠ¨æ•´ç†ç¼–è¯‘äº§ç‰©åˆ° `dist` ç›®å½•

### 3. `build_quick_windows11.bat`
**åŠŸèƒ½**ï¼šç®€åŒ–çš„å¿«é€Ÿç¼–è¯‘
- âš¡ **å¿«é€Ÿæ¨¡å¼**ï¼šé€‚ç”¨äºå·²é…ç½®å¥½ç¯å¢ƒçš„å¼€å‘è€…
- ğŸ¯ **ç²¾ç®€æµç¨‹**ï¼šåªæ‰§è¡Œå¿…è¦çš„ç¼–è¯‘æ­¥éª¤
- â±ï¸ **çœæ—¶é«˜æ•ˆ**ï¼š5-15åˆ†é’Ÿå®Œæˆç¼–è¯‘

## ğŸ› ï¸ ç³»ç»Ÿè¦æ±‚

### æœ€ä½è¦æ±‚
- **æ“ä½œç³»ç»Ÿ**ï¼šWindows 10 ç‰ˆæœ¬ 1903 æˆ– Windows 11
- **å†…å­˜**ï¼š8 GB RAMï¼ˆæ¨è 16 GBï¼‰
- **å­˜å‚¨ç©ºé—´**ï¼šè‡³å°‘ 10 GB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**ï¼šç¨³å®šçš„äº’è”ç½‘è¿æ¥ï¼ˆä¸‹è½½ä¾èµ–ï¼‰

### å¿…éœ€è½¯ä»¶ï¼ˆè„šæœ¬ä¼šè‡ªåŠ¨å®‰è£…ï¼‰
- **Node.js**ï¼šv18.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆæ¨è LTSï¼‰
- **Rust**ï¼šæœ€æ–°ç¨³å®šç‰ˆ
- **Git**ï¼š2.30.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Visual Studio Build Tools 2022**ï¼šåŒ…å« MSVC ç¼–è¯‘å™¨
- **pnpm**ï¼šæœ€æ–°ç‰ˆæœ¬

## ğŸ“ æ‰‹åŠ¨å®‰è£…æ­¥éª¤ï¼ˆå¯é€‰ï¼‰

å¦‚æœè‡ªåŠ¨è„šæœ¬æ— æ³•ä½¿ç”¨ï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ­¥éª¤æ‰‹åŠ¨å®‰è£…ï¼š

### 1. å®‰è£… Git
```bash
# ä¸‹è½½å¹¶å®‰è£… Git
https://git-scm.com/download/win
```

### 2. å®‰è£… Node.js
```bash
# ä¸‹è½½å¹¶å®‰è£… Node.js LTS
https://nodejs.org/
```

### 3. å®‰è£… pnpm
```bash
npm install -g pnpm
```

### 4. å®‰è£… Rust
```bash
# ä¸‹è½½å¹¶å®‰è£… Rust
https://rustup.rs/

# æ·»åŠ  Windows MSVC ç›®æ ‡
rustup target add x86_64-pc-windows-msvc
```

### 5. å®‰è£… Visual Studio Build Tools
```bash
# ä¸‹è½½å¹¶å®‰è£… Visual Studio Build Tools 2022
https://visualstudio.microsoft.com/visual-cpp-build-tools/

# ç¡®ä¿é€‰æ‹© "C++ ç”Ÿæˆå·¥å…·" å·¥ä½œè´Ÿè½½
```

### 6. æ‰‹åŠ¨ç¼–è¯‘
```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
set NODE_OPTIONS=--max_old_space_size=8192
set RUST_BACKTRACE=1

# å®‰è£…ä¾èµ–
pnpm install

# é¢„æ„å»º
pnpm run prebuild x86_64-pc-windows-msvc

# ç¼–è¯‘
pnpm run build
```

## ğŸ“Š ç¼–è¯‘è¾“å‡º

### ç¼–è¯‘äº§ç‰©ä½ç½®
```
dist/                           # æœ€ç»ˆç¼–è¯‘äº§ç‰©
â”œâ”€â”€ LIebesu_Clash_setup.exe    # NSIS å®‰è£…åŒ…
â””â”€â”€ LIebesu_Clash.msi          # MSI å®‰è£…åŒ…ï¼ˆå¦‚æœå¯ç”¨ï¼‰

src-tauri/target/release/bundle/  # åŸå§‹ç¼–è¯‘è¾“å‡º
â”œâ”€â”€ nsis/                       # NSIS å®‰è£…åŒ…
â”œâ”€â”€ msi/                        # MSI å®‰è£…åŒ…
â””â”€â”€ appimage/                   # AppImageï¼ˆLinuxï¼‰
```

### æ—¥å¿—æ–‡ä»¶
```
build_log.txt                  # å®Œæ•´ç¼–è¯‘æ—¥å¿—
build_error.txt               # é”™è¯¯æ—¥å¿—
logs/                         # è¿è¡Œæ—¶æ—¥å¿—ç›®å½•
â”œâ”€â”€ app.log                   # åº”ç”¨æ—¥å¿—
â”œâ”€â”€ speed_test.log           # æµ‹é€Ÿæ—¥å¿—
â””â”€â”€ speed_test_debug.log     # æµ‹é€Ÿè°ƒè¯•æ—¥å¿—
```

## ğŸ”§ å¸¸è§é—®é¢˜è§£å†³

### ç¼–è¯‘å¤±è´¥
```bash
# 1. æ¸…ç†å¹¶é‡æ–°å®‰è£…ä¾èµ–
rmdir /s /q node_modules
pnpm install

# 2. æ¸…ç† Rust ç¼“å­˜
cargo clean

# 3. é‡æ–°è¿è¡Œç¼–è¯‘è„šæœ¬
build_windows11.bat
```

### æƒé™é—®é¢˜
```bash
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œå‘½ä»¤æç¤ºç¬¦
# å³é”®ç‚¹å‡»"å‘½ä»¤æç¤ºç¬¦" -> "ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ"
```

### ç½‘ç»œé—®é¢˜
```bash
# è®¾ç½® npm é•œåƒï¼ˆä¸­å›½ç”¨æˆ·ï¼‰
npm config set registry https://registry.npmmirror.com/
pnpm config set registry https://registry.npmmirror.com/

# è®¾ç½® Rust é•œåƒ
set RUSTUP_DIST_SERVER=https://mirrors.ustc.edu.cn/rust-static
set RUSTUP_UPDATE_ROOT=https://mirrors.ustc.edu.cn/rust-static/rustup
```

### Visual Studio Build Tools é—®é¢˜
```bash
# æ‰‹åŠ¨è®¾ç½® MSVC ç¯å¢ƒ
call "C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Auxiliary\Build\vcvars64.bat"

# æˆ–è€…
call "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\VC\Auxiliary\Build\vcvars64.bat"
```

## ğŸ“‹ ç¼–è¯‘é€‰é¡¹

### å¿«é€Ÿç¼–è¯‘æ¨¡å¼
```bash
# ä½¿ç”¨å¿«é€Ÿç¼–è¯‘é…ç½®ï¼ˆå‡å°‘ä¼˜åŒ–ï¼ŒåŠ å¿«ç¼–è¯‘é€Ÿåº¦ï¼‰
pnpm run build:fast
```

### è°ƒè¯•æ¨¡å¼
```bash
# ç¼–è¯‘è°ƒè¯•ç‰ˆæœ¬
pnpm run dev
```

### è‡ªå®šä¹‰é…ç½®
ç¼–è¾‘ `src-tauri/tauri.conf.json` æ¥è‡ªå®šä¹‰ç¼–è¯‘é€‰é¡¹ï¼š
```json
{
  "build": {
    "beforeBuildCommand": "pnpm run web:build",
    "beforeDevCommand": "pnpm run web:dev",
    "devPath": "http://localhost:3000",
    "distDir": "../dist"
  }
}
```

## ğŸ¯ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### ç¼–è¯‘æ€§èƒ½
- ğŸ’¾ **å¢åŠ å†…å­˜**ï¼šæ¨è 16GB+ RAM
- ğŸ—‚ï¸ **SSD å­˜å‚¨**ï¼šä½¿ç”¨ SSD ç¡¬ç›˜
- ğŸ”§ **å¤šæ ¸ CPU**ï¼šRust ç¼–è¯‘å¯ä»¥åˆ©ç”¨å¤šæ ¸
- ğŸŒ **ç¨³å®šç½‘ç»œ**ï¼šç¡®ä¿ä¾èµ–ä¸‹è½½ä¸ä¸­æ–­

### ç¼–è¯‘æ—¶é—´é¢„ä¼°
- **é¦–æ¬¡ç¼–è¯‘**ï¼š20-45 åˆ†é’Ÿ
- **å¢é‡ç¼–è¯‘**ï¼š3-10 åˆ†é’Ÿ
- **å¿«é€Ÿæ¨¡å¼**ï¼š5-15 åˆ†é’Ÿ

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è·å–å¸®åŠ©
1. **æŸ¥çœ‹æ—¥å¿—**ï¼š`build_log.txt` å’Œ `build_error.txt`
2. **GitHub Issues**ï¼šhttps://github.com/liebesu/LIebesu_Clash/issues
3. **æ–‡æ¡£å‚è€ƒ**ï¼šé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„å„ç§ README æ–‡ä»¶

### æŠ¥å‘Šé—®é¢˜æ—¶è¯·æä¾›
- Windows ç‰ˆæœ¬ä¿¡æ¯
- å®Œæ•´çš„é”™è¯¯æ—¥å¿—
- ç¼–è¯‘å‘½ä»¤å’Œå‚æ•°
- ç³»ç»Ÿé…ç½®ä¿¡æ¯

---

**ğŸ“… æœ€åæ›´æ–°**ï¼š2025å¹´9æœˆ  
**ğŸ·ï¸ ç‰ˆæœ¬**ï¼šWindows 11 å¢å¼ºç‰ˆ  
**âœ… æµ‹è¯•çŠ¶æ€**ï¼šå·²åœ¨ Windows 11 ä¸ŠéªŒè¯é€šè¿‡
