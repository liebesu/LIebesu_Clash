# 🍎 个人编译版本使用指南

## 📋 问题说明

由于个人编译版本缺少官方的 Apple Developer 证书和公证，可能会出现：

- macOS 提示"应用已损坏"
- 应用"一闪而过"无法启动
- 需要"跳过安全性"设置

## ✅ 解决方案

### 方法一：使用自动修复脚本（推荐）

1. **下载构建产物后，找到 `fix-macos-app.sh` 脚本**
2. **在终端中运行：**
   ```bash
   ./fix-macos-app.sh
   ```
   或者手动指定应用路径：
   ```bash
   ./fix-macos-app.sh "/Applications/Clash Verge.app"
   ```

### 方法二：手动修复

如果自动脚本无效，请手动执行：

```bash
# 1. 移除隔离属性
sudo xattr -cr "/Applications/Clash Verge.app"

# 2. 重新签名
sudo codesign --force --deep --sign - "/Applications/Clash Verge.app"
```

### 方法三：系统设置（临时）

1. 打开 **系统偏好设置** → **安全性与隐私**
2. 在 **通用** 选项卡下，找到被阻止的应用
3. 点击 **仍要打开**

## 🎯 技术说明

本版本已经过优化，包含：

- ✅ 增强的应用权限配置
- ✅ 深度 ad-hoc 签名
- ✅ 自动移除隔离属性
- ✅ 完整的网络和文件访问权限

## 🆚 与官方版本的区别

| 功能       | 官方版本                    | 个人编译版本     |
| ---------- | --------------------------- | ---------------- |
| 签名方式   | Apple Developer 证书 + 公证 | Ad-hoc 签名      |
| 安装体验   | 直接安装，无警告            | 可能需要手动修复 |
| 运行稳定性 | ✅ 完全一致                 | ✅ 完全一致      |
| 功能完整性 | ✅ 完全一致                 | ✅ 完全一致      |

## 🔒 安全性说明

- 个人编译版本与官方版本功能完全一致
- 代码来源相同，仅签名方式不同
- 修复脚本仅调整签名，不修改应用功能
- 所有操作都是标准的 macOS 签名流程

## 📞 获取帮助

如果仍有问题，请：

1. 检查 macOS 版本是否支持（需要 10.15+）
2. 确认应用路径正确
3. 尝试在终端直接启动：`open "/Applications/Clash Verge.app"`
